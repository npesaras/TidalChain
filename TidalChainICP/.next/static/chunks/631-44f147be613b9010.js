"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[631],{45412:(e,t,a)=>{a.d(t,{a:()=>V});var r=a(95155),s=a(12115),n=a(6874),c=a.n(n),o=a(97168),d=a(48698),i=a(13052),l=a(5196),u=a(9428),p=a(53999);let m=d.bL,f=d.l9;d.YJ,d.ZL,d.Pb,d.z6,s.forwardRef((e,t)=>{let{className:a,inset:s,children:n,...c}=e;return(0,r.jsxs)(d.ZP,{ref:t,className:(0,p.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",a),...c,children:[n,(0,r.jsx)(i.A,{className:"ml-auto"})]})}).displayName=d.ZP.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(d.G5,{ref:t,className:(0,p.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})}).displayName=d.G5.displayName;let h=s.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...n}=e;return(0,r.jsx)(d.ZL,{children:(0,r.jsx)(d.UC,{ref:t,sideOffset:s,className:(0,p.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});h.displayName=d.UC.displayName;let x=s.forwardRef((e,t)=>{let{className:a,inset:s,...n}=e;return(0,r.jsx)(d.q7,{ref:t,className:(0,p.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",a),...n})});x.displayName=d.q7.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,checked:n,...c}=e;return(0,r.jsxs)(d.H_,{ref:t,className:(0,p.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...c,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(d.VF,{children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})}),s]})}).displayName=d.H_.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(d.hN,{ref:t,className:(0,p.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(d.VF,{children:(0,r.jsx)(u.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=d.hN.displayName;let g=s.forwardRef((e,t)=>{let{className:a,inset:s,...n}=e;return(0,r.jsx)(d.JU,{ref:t,className:(0,p.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...n})});g.displayName=d.JU.displayName;let b=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(d.wv,{ref:t,className:(0,p.cn)("-mx-1 my-1 h-px bg-muted",a),...s})});b.displayName=d.wv.displayName;var N=a(88145),_=a(12018),v=a(30790),y=a(23861),j=a(71007),w=a(381),R=a(94788),k=a(34835),O=a(35695),F=a(79221);function V(e){let{userRole:t,forceRole:a}=e,n=(0,O.useRouter)(),[d,i]=(0,s.useState)("producer");return(0,s.useEffect)(()=>{if(a)i(a),localStorage.setItem("userRole",a);else if(t)i(t),localStorage.setItem("userRole",t);else{let e=localStorage.getItem("userRole");e&&i(e)}},[t,a]),(0,r.jsx)("header",{className:"border-b bg-white sticky top-0 z-50",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,r.jsxs)(c(),{href:"/",className:"flex items-center space-x-2",children:[(0,r.jsx)(v.A,{className:"h-8 w-8 text-blue-600"}),(0,r.jsx)("span",{className:"text-2xl font-bold text-blue-900",children:"TidalChain"})]}),(0,r.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",children:[(0,r.jsx)(c(),{href:"/dashboard/".concat(d),className:"text-gray-600 hover:text-blue-600 font-medium",children:"Dashboard"}),"producer"===d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c(),{href:"/dashboard/producer/pond?canisterId=".concat(F.dw),className:"text-gray-600 hover:text-blue-600",children:"My Pond"}),(0,r.jsx)(c(),{href:"/dashboard/producer/tokens?canisterId=".concat(F.dw),className:"text-gray-600 hover:text-blue-600",children:"My Tokens"}),(0,r.jsx)(c(),{href:"/dashboard/producer/delivery?canisterId=".concat(F.dw),className:"text-gray-600 hover:text-blue-600",children:"Delivery"}),(0,r.jsx)(c(),{href:"/dashboard/producer/revenue?canisterId=".concat(F.dw),className:"text-gray-600 hover:text-blue-600",children:"Revenue"})]}),(0,r.jsx)(c(),{href:"/marketplace?role=".concat(d,"&canisterId=").concat(F.dw),className:"text-gray-600 hover:text-blue-600",children:"Marketplace"}),(0,r.jsx)(c(),{href:"/governance?role=".concat(d,"&canisterId=").concat(F.dw),className:"text-gray-600 hover:text-blue-600",children:"Governance"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)(N.E,{className:(()=>{switch(d){case"producer":return"bg-blue-100 text-blue-800";case"investor":return"bg-green-100 text-green-800";case"buyer":return"bg-purple-100 text-purple-800"}})(),children:[(()=>{if("producer"===d)return(0,r.jsx)(_.A,{className:"h-4 w-4"})})(),(0,r.jsx)("span",{className:"ml-1 capitalize",children:d})]}),(0,r.jsx)(o.$,{variant:"ghost",size:"sm",children:(0,r.jsx)(y.A,{className:"h-4 w-4"})}),(0,r.jsxs)(m,{children:[(0,r.jsx)(f,{asChild:!0,children:(0,r.jsx)(o.$,{variant:"ghost",size:"sm",children:(0,r.jsx)(j.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(h,{align:"end",children:[(0,r.jsxs)(g,{children:["My Account (",d,")"]}),(0,r.jsx)(b,{}),(0,r.jsx)(x,{asChild:!0,children:(0,r.jsxs)(c(),{href:"/profile?canisterId=".concat(F.dw),children:[(0,r.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Profile"]})}),(0,r.jsx)(x,{asChild:!0,children:(0,r.jsxs)(c(),{href:"/settings?canisterId=".concat(F.dw),children:[(0,r.jsx)(w.A,{className:"h-4 w-4 mr-2"}),"Settings"]})}),(0,r.jsx)(x,{asChild:!0,children:(0,r.jsxs)(c(),{href:"/help?canisterId=".concat(F.dw),children:[(0,r.jsx)(R.A,{className:"h-4 w-4 mr-2"}),"Help & Support"]})}),(0,r.jsx)(b,{}),(0,r.jsxs)(x,{onClick:()=>{localStorage.removeItem("userRole"),localStorage.removeItem("isAuthenticated"),n.push("/?canisterId=".concat(F.dw))},children:[(0,r.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]})]})})}},53999:(e,t,a)=>{a.d(t,{cn:()=>n});var r=a(52596),s=a(39688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},79221:(e,t,a)=>{a.d(t,{dw:()=>n});var r=a(35558);let s=e=>{let{IDL:t}=e,a=t.Record({prepare:t.Vec(t.Principal),commit:t.Vec(t.Principal),manage_permissions:t.Vec(t.Principal)}),r=t.Record({set_permissions:t.Opt(a)}),s=t.Record({set_permissions:t.Opt(a)});t.Variant({Upgrade:r,Init:s});let n=t.Record({}),c=t.Nat,o=t.Text,d=t.Tuple(t.Text,t.Text),i=t.Record({key:o,headers:t.Opt(t.Opt(t.Vec(d))),is_aliased:t.Opt(t.Opt(t.Bool)),allow_raw_access:t.Opt(t.Opt(t.Bool)),max_age:t.Opt(t.Opt(t.Nat64))}),l=t.Record({key:o,content_type:t.Text,headers:t.Opt(t.Vec(d)),allow_raw_access:t.Opt(t.Bool),max_age:t.Opt(t.Nat64),enable_aliasing:t.Opt(t.Bool)}),u=t.Record({key:o,content_encoding:t.Text}),p=t.Record({key:o}),m=t.Nat,f=t.Record({key:o,sha256:t.Opt(t.Vec(t.Nat8)),chunk_ids:t.Vec(m),content_encoding:t.Text}),h=t.Variant({SetAssetProperties:i,CreateAsset:l,UnsetAssetContent:u,DeleteAsset:p,SetAssetContent:f,Clear:n}),x=t.Record({batch_id:c,operations:t.Vec(h)}),g=t.Record({batch_id:c,evidence:t.Vec(t.Nat8)}),b=t.Record({batch_id:c,max_iterations:t.Opt(t.Nat16)}),N=t.Record({max_batches:t.Opt(t.Opt(t.Nat64)),max_bytes:t.Opt(t.Opt(t.Nat64)),max_chunks:t.Opt(t.Opt(t.Nat64))}),_=t.Record({batch_id:c}),v=t.Record({max_batches:t.Opt(t.Nat64),max_bytes:t.Opt(t.Nat64),max_chunks:t.Opt(t.Nat64)}),y=t.Variant({Prepare:t.Null,ManagePermissions:t.Null,Commit:t.Null}),j=t.Record({permission:y,to_principal:t.Principal}),w=t.Record({url:t.Text,method:t.Text,body:t.Vec(t.Nat8),headers:t.Vec(d),certificate_version:t.Opt(t.Nat16)}),R=t.Record({key:o,sha256:t.Opt(t.Vec(t.Nat8)),index:t.Nat,content_encoding:t.Text}),k=t.Record({token:t.Opt(R),body:t.Vec(t.Nat8)}),O=t.Variant({Callback:t.Record({token:R,callback:t.Func([R],[t.Opt(k)],["query"])})}),F=t.Record({body:t.Vec(t.Nat8),headers:t.Vec(d),streaming_strategy:t.Opt(O),status_code:t.Nat16}),V=t.Int,T=t.Record({permission:y}),A=t.Record({permission:y,of_principal:t.Principal}),C=t.Variant({Ok:t.Text,Err:t.Text});return t.Service({api_version:t.Func([],[t.Nat16],["query"]),authorize:t.Func([t.Principal],[],[]),certified_tree:t.Func([t.Record({})],[t.Record({certificate:t.Vec(t.Nat8),tree:t.Vec(t.Nat8)})],["query"]),clear:t.Func([n],[],[]),commit_batch:t.Func([x],[],[]),commit_proposed_batch:t.Func([g],[],[]),compute_evidence:t.Func([b],[t.Opt(t.Vec(t.Nat8))],[]),configure:t.Func([N],[],[]),create_asset:t.Func([l],[],[]),create_batch:t.Func([t.Record({})],[t.Record({batch_id:c})],[]),create_chunk:t.Func([t.Record({content:t.Vec(t.Nat8),batch_id:c})],[t.Record({chunk_id:m})],[]),create_chunks:t.Func([t.Record({content:t.Vec(t.Vec(t.Nat8)),batch_id:c})],[t.Record({chunk_ids:t.Vec(m)})],[]),deauthorize:t.Func([t.Principal],[],[]),delete_asset:t.Func([p],[],[]),delete_batch:t.Func([_],[],[]),get:t.Func([t.Record({key:o,accept_encodings:t.Vec(t.Text)})],[t.Record({content:t.Vec(t.Nat8),sha256:t.Opt(t.Vec(t.Nat8)),content_type:t.Text,content_encoding:t.Text,total_length:t.Nat})],["query"]),get_asset_properties:t.Func([o],[t.Record({headers:t.Opt(t.Vec(d)),is_aliased:t.Opt(t.Bool),allow_raw_access:t.Opt(t.Bool),max_age:t.Opt(t.Nat64)})],["query"]),get_chunk:t.Func([t.Record({key:o,sha256:t.Opt(t.Vec(t.Nat8)),index:t.Nat,content_encoding:t.Text})],[t.Record({content:t.Vec(t.Nat8)})],["query"]),get_configuration:t.Func([],[v],[]),grant_permission:t.Func([j],[],[]),http_request:t.Func([w],[F],["query"]),http_request_streaming_callback:t.Func([R],[t.Opt(k)],["query"]),list:t.Func([t.Record({})],[t.Vec(t.Record({key:o,encodings:t.Vec(t.Record({modified:V,sha256:t.Opt(t.Vec(t.Nat8)),length:t.Nat,content_encoding:t.Text})),content_type:t.Text}))],["query"]),list_authorized:t.Func([],[t.Vec(t.Principal)],[]),list_permitted:t.Func([T],[t.Vec(t.Principal)],[]),propose_commit_batch:t.Func([x],[],[]),revoke_permission:t.Func([A],[],[]),set_asset_content:t.Func([f],[],[]),set_asset_properties:t.Func([i],[],[]),store:t.Func([t.Record({key:o,content:t.Vec(t.Nat8),sha256:t.Opt(t.Vec(t.Nat8)),content_type:t.Text,content_encoding:t.Text})],[],[]),take_ownership:t.Func([],[],[]),unset_asset_content:t.Func([u],[],[]),validate_commit_proposed_batch:t.Func([g],[C],[]),validate_configure:t.Func([N],[C],[]),validate_grant_permission:t.Func([j],[C],[]),validate_revoke_permission:t.Func([A],[C],[]),validate_take_ownership:t.Func([],[C],[])})},n=a(49509).env.CANISTER_ID_TIDAL_CHAIN_ASSETS||"uzt4z-lp777-77774-qaabq-cai";n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.agent||new r.qB({...t.agentOptions});t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),a.fetchRootKey().catch(e=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(e)}),r.Ag.createActor(s,{agent:a,canisterId:e,...t.actorOptions})}(n)},88145:(e,t,a)=>{a.d(t,{E:()=>o});var r=a(95155);a(12115);var s=a(74466),n=a(53999);let c=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground","ready-soon":"badge-ready-soon"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)(c({variant:a}),t),...s})}},88482:(e,t,a)=>{a.d(t,{BT:()=>i,Wu:()=>l,ZB:()=>d,Zp:()=>c,aR:()=>o});var r=a(95155),s=a(12115),n=a(53999);let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});c.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});d.displayName="CardTitle";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});i.displayName="CardDescription";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});l.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},97168:(e,t,a)=>{a.d(t,{$:()=>i});var r=a(95155),s=a(12115),n=a(99708),c=a(74466),o=a(53999);let d=(0,c.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=s.forwardRef((e,t)=>{let{className:a,variant:s,size:c,asChild:i=!1,...l}=e,u=i?n.DX:"button";return(0,r.jsx)(u,{className:(0,o.cn)(d({variant:s,size:c,className:a})),ref:t,...l})});i.displayName="Button"}}]);