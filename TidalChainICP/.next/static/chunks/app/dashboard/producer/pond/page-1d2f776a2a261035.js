(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[390],{1243:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},4516:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},21722:(e,t,a)=>{"use strict";a.d(t,{CC:()=>s,Hv:()=>r,W3:()=>c,zu:()=>i});let s=(e,t)=>e.find(e=>e.id===t),r=e=>e.length,i=e=>{let t=e.reduce((e,t)=>e+parseInt(t.capacity.replace(/[^0-9]/g,"")),0);return"".concat(t.toLocaleString()," kg")},c=e=>{let t=e.reduce((e,t)=>e+parseInt(t.currentStock.replace(/[^0-9]/g,"")),0);return"".concat(t.toLocaleString()," kg")}},34964:(e,t,a)=>{"use strict";a.d(t,{Xi:()=>o,av:()=>d,j7:()=>l,tU:()=>n});var s=a(95155),r=a(12115),i=a(60704),c=a(53999);let n=i.bL,l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.B8,{ref:t,className:(0,c.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});l.displayName=i.B8.displayName;let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.l9,{ref:t,className:(0,c.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});o.displayName=i.l9.displayName;let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.UC,{ref:t,className:(0,c.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});d.displayName=i.UC.displayName},40646:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},61737:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(95155),r=a(12115),i=a(6874),c=a.n(i),n=a(66766),l=a(97168),o=a(88482),d=a(88145),x=a(34964),u=a(45412),m=a(40646),p=a(1243),h=a(79397),g=a(72713),T=a(84616),f=a(4516),N=a(381),v=a(21722),y=a(93149),j=a(93867);function b(){let[e,t]=(0,r.useState)("all"),a=e=>{switch(e){case"optimal":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"attention":return"bg-yellow-100 text-yellow-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},i=e=>{switch(e){case"optimal":case"good":return(0,s.jsx)(m.A,{className:"h-4 w-4"});case"attention":case"critical":return(0,s.jsx)(p.A,{className:"h-4 w-4"});default:return(0,s.jsx)(h.A,{className:"h-4 w-4"})}},b=e=>e>=1&&e<=50?"bg-green-500":e>=51&&e<=80?"bg-orange-500":e>=81&&e<=100?"bg-red-500":"bg-gray-400",[w,k]=(0,r.useState)([]),[R,A]=(0,r.useState)([]),F=e=>e>=1&&e<=50?{text:"Low",color:"text-green-600"}:e>=51&&e<=80?{text:"Moderate",color:"text-orange-600"}:e>=81&&e<=100?{text:"High",color:"text-red-600"}:{text:"Unknown",color:"text-gray-600"},V=(0,j.Zt)();return(0,r.useEffect)(()=>{(async()=>{try{let e=await V.getTokensData();k(e)}catch(e){console.error("Failed to fetch tokens:",e)}})(),(async()=>{try{let e=await V.getPondData();A(e)}catch(e){console.error("Failed to fetch ponds:",e)}})()}),"all"===e||(0,y.H4)(w,e),"all"===e||(0,v.CC)(R,e),(0,s.jsxs)("div",{className:"min-h-screen bg-blue-100",children:[(0,s.jsx)(u.a,{userRole:"producer"}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Pond"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Monitor and manage your fish ponds and tokens"})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)(l.$,{variant:"outline",asChild:!0,children:(0,s.jsxs)(c(),{href:"/dashboard/producer",children:[(0,s.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Dashboard"]})}),(0,s.jsxs)(l.$,{children:[(0,s.jsx)(T.A,{className:"h-4 w-4 mr-2"}),"Add New Pond"]})]})]}),(0,s.jsx)(x.tU,{defaultValue:"overview",className:"space-y-6",children:(0,s.jsxs)(x.av,{value:"overview",className:"space-y-6",children:["all"===e&&(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-6",children:[(0,s.jsxs)(o.Zp,{children:[(0,s.jsx)(o.aR,{className:"pb-2",children:(0,s.jsx)(o.ZB,{className:"text-sm font-medium text-gray-600",children:"Total Ponds"})}),(0,s.jsxs)(o.Wu,{children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:(0,v.Hv)(R)}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[(0,v.Hv)(R)," active ponds"]})]})]}),(0,s.jsxs)(o.Zp,{children:[(0,s.jsx)(o.aR,{className:"pb-2",children:(0,s.jsx)(o.ZB,{className:"text-sm font-medium text-gray-600",children:"Total Capacity"})}),(0,s.jsxs)(o.Wu,{children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:(0,v.zu)(R)}),(0,s.jsxs)("p",{className:"text-sm text-blue-600 mt-1",children:[(0,v.W3)(R)," current stock"]})]})]}),(0,s.jsxs)(o.Zp,{children:[(0,s.jsx)(o.aR,{className:"pb-2",children:(0,s.jsx)(o.ZB,{className:"text-sm font-medium text-gray-600",children:"Active Tokens"})}),(0,s.jsxs)(o.Wu,{children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:(0,y.os)(w)}),(0,s.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"+2 from last month"})]})]}),(0,s.jsxs)(o.Zp,{children:[(0,s.jsx)(o.aR,{className:"pb-2",children:(0,s.jsx)(o.ZB,{className:"text-sm font-medium text-gray-600",children:"Total Value"})}),(0,s.jsxs)(o.Wu,{children:[(0,s.jsxs)("div",{className:"text-3xl font-bold text-gray-900",children:["₱",(0,y.Xz)(w).toLocaleString()]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Token value across ponds"})]})]})]}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:("all"===e?R:R.filter(t=>t.id===e)).map(e=>(0,s.jsxs)(o.Zp,{className:"hover:shadow-lg transition-shadow bg-slate-100",children:[(0,s.jsxs)(o.aR,{className:"pb-3",children:[(0,s.jsx)("div",{className:"relative w-full h-48 mb-4 rounded-lg overflow-hidden bg-gray-200",children:(0,s.jsx)(n.default,{src:e.image[0]||"/defaultPondImage.jpg",alt:"".concat(e.name," - Aquaculture pond in ").concat(e.location),fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",priority:"pond-a"===e.id})}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center space-x-3",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(o.ZB,{className:"text-lg",children:e.name}),(0,s.jsxs)(o.BT,{className:"flex items-center",children:[(0,s.jsx)(f.A,{className:"h-3 w-3 mr-1"}),e.location]})]})}),(0,s.jsxs)(d.E,{className:a(e.status),children:[i(e.status),(0,s.jsx)("span",{className:"ml-1 capitalize",children:e.status})]})]})]}),(0,s.jsxs)(o.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600",children:"Size"}),(0,s.jsx)("p",{className:"font-medium",children:e.size})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600",children:"Capacity"}),(0,s.jsx)("p",{className:"font-medium",children:e.capacity})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600",children:"Current Stock"}),(0,s.jsx)("p",{className:"font-medium",children:e.currentStock})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600",children:"Active Tokens"}),(0,s.jsx)("p",{className:"font-medium",children:(0,y.H4)(w,e.id).length})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{children:"Utilization"}),(0,s.jsxs)("span",{className:F(parseInt(e.utilization.toString())).color,children:[e.utilization,"% (",F(parseInt(e.utilization.toString())).text,")"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(b(parseInt(e.utilization.toString()))),style:{width:"".concat(e.utilization,"%")}})})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(l.$,{variant:"outline",size:"sm",className:"flex-1 bg-gray-100",children:"View Details"}),(0,s.jsx)(l.$,{variant:"outline",size:"sm",children:(0,s.jsx)(N.A,{className:"h-4 w-4"})})]})]})]},e.id))})]})})]})]})}},67379:(e,t,a)=>{Promise.resolve().then(a.bind(a,61737))},72713:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},79397:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},93149:(e,t,a)=>{"use strict";a.d(t,{H4:()=>s,Xz:()=>r,ef:()=>i,os:()=>c});let s=(e,t)=>e.filter(e=>e.pond===t),r=e=>e.reduce((e,t)=>e+parseInt(t.total.replace(/[₱,]/g,"")),0),i=(e,t)=>e.filter(e=>e.status.toLowerCase()===t.toLowerCase()),c=e=>e.filter(e=>"Harvested"!==e.status).length},93867:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>o,Zt:()=>l});var s=a(35558);let r=e=>{let{IDL:t}=e,a=t.Record({month:t.Text,Tilapia:t.Float64,Milkfish:t.Float64,Pompano:t.Float64}),s=t.Record({volume:t.Nat,species:t.Text,percentage:t.Nat}),r=t.Record({documentType:t.Text,name:t.Text,size:t.Text}),i=t.Record({investors:t.Opt(t.Nat),totalValue:t.Nat,funded:t.Nat,expectedROI:t.Text,fundingProgress:t.Nat,daysLeft:t.Nat,soldTokens:t.Nat}),c=t.Record({status:t.Opt(t.Text),growthProcess:t.Opt(t.Text),totalValue:t.Text,stockingDate:t.Text,pricePerKg:t.Text,cageSize:t.Text,WaterDepth:t.Text,quantity:t.Text,currentWeight:t.Text,location:t.Text,coordinates:t.Text,expectedYield:t.Text}),n=t.Record({transactionType:t.Text,date:t.Text,tokens:t.Nat,amount:t.Text,investor:t.Text}),l=t.Record({bio:t.Text,joinDate:t.Text,account:t.Text,rating:t.Float64,certifications:t.Vec(t.Text),sustainabilityScore:t.Nat,location:t.Text,avatar:t.Text,totalHarvests:t.Nat}),o=t.Record({status:t.Text,expires:t.Text,name:t.Text}),d=t.Record({overallScore:t.Nat,waterQuality:t.Nat,feedEfficiency:t.Nat,animalWelfare:t.Nat,certifications:t.Vec(o),carbonFootprint:t.Nat}),x=t.Record({ph:t.Float64,turbidity:t.Float64,alerts:t.Vec(t.Text),temperature:t.Float64,lastUpdated:t.Text,salinity:t.Float64,oxygen:t.Float64}),u=t.Record({date:t.Text,timelineType:t.Text,description:t.Text,details:t.Text}),m=t.Record({id:t.Text,documents:t.Vec(r),investment:i,harvest:c,transactions:t.Vec(n),producer:l,species:t.Text,sustainability:d,ioTData:x,timeline:t.Vec(u)}),p=t.Record({avgFundingTime:t.Text,currentPrice:t.Text,demandLevel:t.Text,species:t.Text,priceChange:t.Text}),h=t.Record({id:t.Text,status:t.Text,oxygenLevel:t.Text,totalValue:t.Text,name:t.Text,size:t.Text,utilization:t.Nat,image:t.Opt(t.Text),capacity:t.Text,currentStock:t.Text,phLevel:t.Text,waterTemp:t.Text,lastFed:t.Text,location:t.Text,activeTokens:t.Nat}),g=t.Record({month:t.Text,Tilapia:t.Float64,Milkfish:t.Float64,Pompano:t.Float64}),T=t.Record({premiumPercentage:t.Text,grade:t.Text}),f=t.Record({id:t.Text,status:t.Text,marketType:t.Text,totalOrders:t.Float64,chefRating:t.Text,name:t.Text,preferredDelivery:t.Text,priceRange:t.Text,lastOrder:t.Text,preferredFish:t.Vec(t.Text),avgOrderSize:t.Text,rating:t.Float64,paymentTerms:t.Text,image:t.Opt(t.Text),specialRequirements:t.Text,location:t.Text,orderFrequency:t.Text}),N=t.Record({id:t.Text,revenue:t.Nat,name:t.Text,color:t.Text,percentage:t.Nat}),v=t.Record({id:t.Text,status:t.Text,total:t.Text,pond:t.Text,funded:t.Text,progress:t.Nat,quantity:t.Text,image:t.Opt(t.Text),daysRemaining:t.Nat,harvestDate:t.Text,species:t.Text}),y=t.Record({id:t.Text,status:t.Text,title:t.Text,transactionType:t.Text,icon:t.Text,description:t.Text,relatedTokenId:t.Opt(t.Text),timestamp:t.Text,relatedPondId:t.Opt(t.Text),amount:t.Text,investorName:t.Opt(t.Text)});return t.Service({getDemandChartData:t.Func([],[t.Vec(a)],[]),getDemandVolumeData:t.Func([],[t.Vec(s)],[]),getDetailedTokens:t.Func([],[t.Vec(m)],[]),getMarketDemand:t.Func([],[t.Vec(p)],[]),getPondData:t.Func([],[t.Vec(h)],[]),getPriceChartData:t.Func([],[t.Vec(g)],[]),getQualityPremium:t.Func([],[t.Vec(T)],[]),getRestaurants:t.Func([],[t.Vec(f)],[]),getSpeciesRevenueData:t.Func([],[t.Vec(N)],[]),getTokensData:t.Func([],[t.Vec(v)],[]),getTransactionsData:t.Func([],[t.Vec(y)],[]),populateAll:t.Func([],[],[])})},i=a(49509).env.CANISTER_ID_TIDAL_CHAIN_BACKEND||"ulvla-h7777-77774-qaacq-cai",c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.agent||new s.qB({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),a.fetchRootKey().catch(e=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(e)}),s.Ag.createActor(r,{agent:a,canisterId:e,...t.actorOptions})};i&&c(i);let n=(e,t)=>t(e,{agentOptions:{host:"http://localhost:4943"}});function l(){return n(i,c)}let o=n("ulvla-h7777-77774-qaacq-cai",c)}},e=>{var t=t=>e(e.s=t);e.O(0,[821,46,499,736,631,441,684,358],()=>t(67379)),_N_E=e.O()}]);